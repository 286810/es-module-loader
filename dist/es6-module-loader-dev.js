/*
 *  es6-module-loader v1.0.0-alpha
 *  https://github.com/ModuleLoader/es6-module-loader
 *  Copyright (c) 2015 Guy Bedford, Luke Hoban, Addy Osmani; Licensed MIT
 */

!function(a){function b(a,b){var c;if(a instanceof Error){var c=new a.constructor(a.message,a.fileName,a.lineNumber);c.message=a.message+"\n	"+b,c.stack=a.stack}else c=a+"\n	"+b;return c}function c(a,c,d){try{new Function(a).call(d)}catch(e){throw b(e,"Evaluating "+c)}}function d(){this._loader={loaderObj:this,resolve:void 0,fetch:void 0,translate:void 0,instantiate:void 0,registry:{}}}function e(a,b,c){return a.registry[b]||(a.registry[b]={key:b,state:L,metadata:c||{},fetch:void 0,translate:void 0,instantiate:void 0,fetchResolve:void 0,translateResolve:void 0,instantiateResolve:void 0,dependencies:void 0,module:void 0,declare:void 0,error:null})}function f(a,b,c){b.fetchResolve?b.fetchResolve(c):b.fetch=Promise.resolve(c),b.fetchResolve=void 0,b.state=Math.max(b.state,M)}function g(a,b,c){b.translateResolve?b.translateResolve(c):b.translate=Promise.resolve(c),b.translateResolve=void 0,b.state=Math.max(b.state,N)}function h(a,b,c,d){if(void 0===c)var e=y(a.loaderObj,b.key,d,b.metadata);else if("function"!=typeof c)throw new TypeError("Instantiate must return an execution function.");b.instantiateResolve?b.instantiateResolve(c):b.instantiate=Promise.resolve(c),b.instantiateResolve=void 0;var f=[];if(void 0===c){b.declare=e.declare;for(var g=0;g<e.deps.length;g++)f.push({key:e.deps[g],value:void 0})}b.dependencies=f,b.module=c,b.state=Math.max(b.state,O)}function i(a,b,c,d){return Promise.resolve(void 0===c&&x(a.loaderObj)).then(function(){h(a,b,c,d)})}function j(a,c,d,g){return g=g||e(a,c,d),g.error?Promise.reject(g.error):g.state===Q?Promise.reject(new Error(c+" cannot be fetched as it is already linked.")):g.fetch?g.fetch:(Promise.resolve().then(function(){return a.fetch.call(a.loaderObj,c,g.metadata)}).then(function(b){f(a,g,b)},function(a){throw b(a,"Fetching "+c)})["catch"](function(a){g.error=g.error||a}).then(function(){g.error&&g.fetchResolve&&g.fetchResolve(Promise.reject(g.error))}),g.fetch=new Promise(function(a){g.fetchResolve=a}))}function k(a,c,d,f){return f=f||e(a,c,d),f.error?Promise.reject(f.error):f.state===Q?Promise.reject(new Error(c+" cannot initiate translate as it is already linked.")):f.translate?f.translate:(j(a,c,null,f).then(function(d){return Promise.resolve().then(function(){return a.translate.call(a.loaderObj,c,d,f.metadata)}).then(function(b){g(a,f,b)},function(a){throw b(a,"Translating "+c)})})["catch"](function(a){f.error=f.error||a}).then(function(){f.error&&f.translateResolve&&f.translateResolve(Promise.reject(f.error))}),f.translate=new Promise(function(a){f.translateResolve=a}))}function l(a,c,d,f){return f=f||e(a,c,d),f.error?Promise.reject(f.error):f.state===Q?Promise.reject(new Error(c+" cannot instantiate as it is already linked.")):f.instantiate?f.instantiate:(k(a,c,null,f).then(function(d){return Promise.resolve().then(function(){return a.instantiate.call(a.loaderObj,c,d,f.metadata)}).then(function(b){return i(a,f,b,d)},function(a){throw b(a,"Instantiating "+c)})})["catch"](function(a){f.error=f.error||a}).then(function(){f.error&&f.instantiateResolve&&f.instantiateResolve(Promise.reject(f.error))}),f.instantiate=new Promise(function(a){f.instantiateResolve=a}))}function m(a,c,d,f){return f=f||e(a,c,d),f.state>O?f:l(a,c,null,f).then(function(){f.state=Math.max(f.state,P);for(var d=[],g=0;g<f.dependencies.length;g++)(function(b){var f={};d.push(Promise.resolve(a.resolve.call(a.loaderObj,b.key,c,f)).then(function(c){var d=e(a,c,f);return b.value=d,m(a,c,null,d)}))})(f.dependencies[g]);return Promise.all(d)["catch"](function(a){throw a=b(a,"Loading "+c),f.error=f.error||a,a})})}function n(a,b,c,d){return d=d||e(a,b,c),d.error?Promise.reject(d.error):d.state===Q?Promise.resolve(d):m(a,b,c,d).then(function(){var a=[];p(d,a);for(var b=0;b<a.length;b++){var c=a[b];c.state==P&&"function"==typeof c.module&&(q(c),c.state=Q)}return d.state==P&&s(d),d})["catch"](function(a){throw d.error=a,a})}function o(a,c,d,f){return f=f||e(a,c,d),n(a,c,d,f).then(function(a){var d=a.module;if(d instanceof r)return d;var e=t(d,[]);if(e)throw e=b(e,"Error evaluating "+c),a.error=e,e;return d.module},function(a){throw f.error=f.error||a,a})}function p(a,b){if(-1==I.call(b,a)){b.push(a);for(var c=0;c<a.dependencies.length;c++)p(a.dependencies[c].value,b)}}function q(a){if(a.error)throw a.error;try{a.module=a.module()}catch(b){throw a.error=b,b}}function r(a){for(var b in a)this[b]=a[b]}function s(b){var c=b.module=v(b.key),d=c.module,e=b.declare.call(a,function(a,b){c.locked=!0,d[a]=b;for(var e=0;e<c.importers.length;e++){var f=c.importers[e];if(!f.locked){var g=I.call(f.dependencies,c);f.setters[g](d)}}return c.locked=!1,b});c.setters=e.setters,c.execute=e.execute;for(var f=0;f<b.dependencies.length;f++){var g=b.dependencies[f].value;g.module||s(g);var h=g.module;h instanceof r?c.dependencies.push(null):(c.dependencies.push(h),h.importers.push(c)),c.setters[f]&&c.setters[f](h.module)}b.state=Q}function t(a,c){if(-1==I.call(c,a)){if(a.error)return a.error;c.push(a);for(var d,e=a.dependencies,f=0;f<e.length;f++){var g=e[f];if(g&&(d=t(e[f],c)))return a.error=b(d,"Error evaluating "+g.key),a.error}return d=u(a),d&&(a.error=d),d}}function u(a){try{a.execute.call({})}catch(b){return b}}function v(a){return S[a]||(S[a]={key:a,dependencies:[],module:new r({}),importers:[],locked:!1,error:null})}function w(b){try{a.traceur?b.install("traceur",new r({"default":a.traceur})):a.babel&&b.install("babel",new r({"default":a.babel}))}catch(c){}}function x(a){var b=a.transpiler;if(b!==T||!U)return T=b,U=V=null,a["import"](b).then(function(a){U=a["default"]})}function y(a,b,c,d){return D(b,(U.Compiler?A:C)(U,b,c,d))}function z(b,d){var e=this;return Promise.resolve(T===e.transpiler&&V||e.resolve(T=e.transpiler)).then(function(f){return V=f,V===b?function(){var f=a.System,g=a.Reflect.Loader;return c("~function(require,exports,module){"+d+"}()",b,a),a.System=f,a.Reflect.Loader=g,new r({"default":a[e.transpiler]})}:void 0})}function A(a,b,c,d){var e=this.traceurOptions||{};e.modules="instantiate",e.script=!1,e.sourceMaps="inline",e.inputSourceMap=d.sourceMap,e.filename=b,e.inputSourceMap=d.sourceMap,e.moduleName=!1;var f=new a.Compiler(e);return B(c,f,e.filename)}function B(a,b,c){try{return b.compile(a,c)}catch(d){throw d[0]||d}}function C(a,b,c){var d=this.babelOptions||{};return d.modules="system",d.sourceMap="inline",d.filename=b,d.code=!0,d.ast=!1,d.blacklist||(d.blacklist=["react"]),a.transform(c,d).code}function D(b,d){var e,f=a.System=a.System||W,g=f.register;return f.register=function(a,b){e={deps:a,declare:b}},c('var __moduleURL = "'+b+'";'+d+"\n//# sourceURL="+b+"!eval",b,{}),f.register=g,e}function E(a,b){if("string"!=typeof a)throw new TypeError("URL must be a string");var c=String(a).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);if(!c)throw new RangeError;var d=c[1]||"",e=c[2]||"",f=c[3]||"",g=c[4]||"",h=c[5]||"",i=c[6]||"",j=c[7]||"",k=c[8]||"",l=c[9]||"";if(void 0!==b){var m=b instanceof E?b:new E(b),n=""===d&&""===g&&""===e;n&&""===j&&""===k&&(k=m.search),n&&"/"!==j.charAt(0)&&(j=""!==j?(""===m.host&&""===m.username||""!==m.pathname?"":"/")+m.pathname.slice(0,m.pathname.lastIndexOf("/")+1)+j:m.pathname);var o=[];j.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(a){"/.."===a?o.pop():o.push(a)}),j=o.join("").replace(/^\//,"/"===j.charAt(0)?"/":""),n&&(i=m.port,h=m.hostname,g=m.host,f=m.password,e=m.username),""===d&&(d=m.protocol)}"file:"==d&&(j=j.replace(/\\/g,"/")),this.origin=d+(""!==d||""!==g?"//":"")+g,this.href=d+(""!==d||""!==g?"//":"")+(""!==e?e+(""!==f?":"+f:"")+"@":"")+g+j+k+l,this.protocol=d,this.username=e,this.password=f,this.host=g,this.hostname=h,this.port=i,this.pathname=j,this.search=k,this.hash=l}function F(){}function G(){document.removeEventListener("DOMContentLoaded",G,!1),window.removeEventListener("load",G,!1),H()}function H(){for(var a=document.getElementsByTagName("script"),b=0,c=0;c<a.length;c++){var d=a[c];if("module"==d.type){var e=d.src;e?W.load(e,"ready"):(W.provide("anon"+ ++b,"fetch",d.innerHTML.substr(1)),W.load("anon"+b,"ready"))}}}var I=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},J="object"==typeof exports&&"function"==typeof require,K="undefined"!=typeof process&&!!process.platform.match(/^win/),L=0,M=1,N=2,O=3,P=4,Q=5;d.prototype["import"]=function(a,c){var d=this._loader,e={};return Promise.resolve().then(function(){return d.resolve.call(d.loaderObj,a,c,e)})["catch"](function(d){throw b(d,"Resolving "+a+(c?", "+c:""))}).then(function(a){return o(d,a,e)})},d.prototype.resolve=function(a,b,c){var d=this._loader;return d.resolve.call(d.loaderObj,a,b,c||{})},d.prototype.load=function(a,b,c){var d=this._loader;if("fetch"==b)return j(d,a,c);if("translate"==b)return k(d,a,c);if("instantiate"==b)return m(d,a,c).then(function(a){return a.module instanceof r?void 0:a.module});if("link"==b)return n(d,a,c).then(function(){});if(b&&"ready"!=b)throw new TypeError("Invalid stage "+b);return o(d,a,c).then(function(a){return a.module})},d.prototype.provide=function(a,b,c,d){var h=this._loader,j=e(h,a,d);if("fetch"==b){if(j.state>L)throw new TypeError(a+" has already been fetched.");f(h,j,c)}else if("translate"==b){if(j.state>M)throw new TypeError(a+" has already been translated.");g(h,j,c)}else{if("instantiate"!=b)throw new TypeError("Invalid stage "+b);if(j.state>N)throw new TypeError(a+" has already been instantiated.");f(h,j,void 0),g(h,j,void 0),j.translate.then(function(a){i(h,j,c,a)})}},d.prototype.error=function(){},d.prototype.lookup=function(a){var b=this._loader,c=b.registry[a];if(!c)return null;var d;return c.state==L?d="fetch":c.state==M?d="translate":c.state==N?d="instantiate":c.state==P?d="link":c.state==Q&&(d="ready"),{state:d,metadata:c.metadata,fetch:c.fetch&&Promise.resolve(c.fetch),translate:c.translate&&Promise.resolve(c.translate),instantiate:c.instantiate&&Promise.resolve(c.instantiate),module:c.state==Q&&(c.module instanceof r?c.module:c.module.module),error:c.error}},d.prototype.install=function(a,b){var c=this._loader;if(c.registry[a])throw new TypeError(a+" is already defined in the Loader registry.");if(!(b instanceof r))throw new TypeError("Install must provide a valid Module object.");c.registry[a]={key:a,state:Q,metadata:metadata,fetch:void 0,translate:void 0,instantiate:void 0,dependencies:void 0,module:b,declare:void 0,error:null}},d.prototype.uninstall=function(a){var b=this._loader,c=b.registry[a];if(!c)throw new TypeError(a+" is not defined in the Loader registry.");if(c.state<P)throw new TypeError(a+" is still loading.");delete b.registry[a]},d.prototype.cancel=function(a){var b=this._loader,c=b.registry[a];if(!c)throw new TypeError(a+" does not exist.");if(c.state>=P)throw new TypeError(a+" is already past linking.");delete b.registry[a]};var R=["resolve","fetch","translate","instantiate"];d.prototype.hook=function(a,b){var c=this._loader;if(-1==I.call(R,a))throw new TypeError(a+" is not a valid hook.");return b?void(c[a]=b):c[a]};var S={};d.prototype.transpiler="traceur";var T,U,V,W,X;if("undefined"!=typeof XMLHttpRequest)X=function(a,b,c){function d(){b(f.responseText)}function e(){c(new Error("GET "+a+" "+f.status+" ("+f.statusText+")"))}var f=new XMLHttpRequest,g=!0,h=!1;if(!("withCredentials"in f)){var i=/^(\w+:)?\/\/([^\/]+)/.exec(a);i&&(g=i[2]===window.location.host,i[1]&&(g&=i[1]===window.location.protocol))}g||"undefined"==typeof XDomainRequest||(f=new XDomainRequest,f.onload=d,f.onerror=e,f.ontimeout=e,f.onprogress=function(){},f.timeout=0,h=!0),f.onreadystatechange=function(){4===f.readyState&&(200===f.status||0==f.status&&f.responseText?d():e())},f.open("GET",a,!0),h&&setTimeout(function(){f.send()},0),f.send(null)};else{if(!J)throw new TypeError("No environment fetch API available.");var Y;X=function(a,b,c){if("file:///"!=a.substr(0,8))throw"Only file URLs of the form file: allowed running in Node.";Y=Y||require("fs"),a=K?a.replace(/\//g,"\\").substr(8):a.substr(7),Y.readFile(a,function(a,d){a?c(a):b(d+"")})}}var Z=function(){function a(a){if(b[a])return b[a];var c,d=0;for(var e in b){var f=e.split("*");if(f.length>2)throw new TypeError("Sites entry "+e+" contains multiple wildcards.");1!=f.length&&e.split("/").length>=d&&e.substr(0,f[0].length)===a.substr(0,f[0].length)&&e.substr(e.length-f[1].length)===f[1]&&(c=b[e].replace("*",a.substr(f[0].length,a.length-e.length+1)),d=e.split("/").length)}return c}d.call(this,arguments);var b={};this.site=function(a){for(var c in a)b[c]=a[c]},this.site.get=function(a){return b[a]},this.site.set=function(a,c){b[a]=c},this.site.has=function(a){return!!b[a]},this.site["delete"]=function(a){delete b[a]},this.hook("resolve",function(b,c){var d=a(b);return(d||!c)&&(c=$),new E(d||b,c).href}),this.hook("fetch",function(a){return new Promise(function(b,c){X(a,b,c)})}),this.hook("translate",function(a,b){return b}),this.hook("instantiate",z),this.transpiler&&w(this)};F.prototype=d.prototype,Z.prototype=new F;var $;if("undefined"!=typeof document&&document.baseURI?$=document.baseURI:"undefined"!=typeof document&&document.getElementsByTagName?($=document.getElementsByTagName("base")[0],$=$&&$.href):"undefined"!=typeof location&&location.href&&($=location.href),$?($=$.split("#")[0].split("?")[0],$=$.substr(0,$.lastIndexOf("/")+1)):"undefined"!=typeof process&&process.cwd&&($="file://"+(K?"/":"")+process.cwd()+"/",K&&($=$.replace(/\\/g,"/"))),$=new E($),"undefined"!=typeof document&&document.getElementsByTagName){var _=document.getElementsByTagName("script");_=_[_.length-1],"complete"===document.readyState?setTimeout(H):document.addEventListener&&(document.addEventListener("DOMContentLoaded",G,!1),window.addEventListener("load",G,!1))}var aa;W=new Z,W.constructor=Z,function(b){aa=b.Reflect||{},aa.Loader=aa.Loader||d,aa.Module=aa.Module||r,aa.global=aa.global||a,b.LoaderPolyfill=d,b.ModulePolyfill=r,b.Reflect=aa,b.System=W}(J?exports:a)}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:global);
//# sourceMappingURL=es6-module-loader-dev.js.map